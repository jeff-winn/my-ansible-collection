---
- name: Env1 to Env2
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Start Env2
      ansible.builtin.include_role:
        name: up
      vars:
        up_env: Env2

    - name: Check Env2
      ansible.builtin.include_role:
        name: check
      vars:
        check_env: Env2

    - name: Activate Env2
      ansible.builtin.include_role:
        name: activate
      vars:
        activate_env: Env2

    - name: Down Env1
      ansible.builtin.include_role:
        name: down
      vars:
        down_env: Env1
